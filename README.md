## Описание

Компонент реализует функционал мультисайтовости для разных поддоменов. Т.е. мы подменяем значение тегов на наше содержимое.

## Особенности

* Компонент не зависит от TV или каких либо полей modx'a он парсит любое все содержимое перед отдачей его на фронт. Например если у вы указываете в TV поле тег [TEST] а в содержимом [TEST1] то они оба спарсятся, да даже если вы просто в верстке зададите [TEST] компонент найдет этот тег и спарсит его
* Компонент работает изолированно для каждого ресурса и в редактировании ресурса добавляется вкладка **мультисайтовость**
* Компонент не зависит от компонентов определения города, он анализирует HOST сайта, т.е. его урл и за ключ города берет название поддомена

## Использование

1. Переходим **пакеты** -> **multiSite**
1. Создаем города которые нам будут доступны, где:  
**Ключ города** - поддомен  
**Название города** - Наименование для вывода на сайте
1. Переходим в документ/товар/категорию в котором нужно сделать динамический текст
1. Открываем вкладку **Мультисайтовость** и создаем новый ключ, где:  
**Ключ города** - Выбираем город из созданных, если поле пустое - значение будет подтягиваться для основного домена  
**Ключ в контенте** - название тега который мы будем вставлять в содержимое/tv или прямо в верстку (*например [TEST], где TEST - это ключ в контенте*)  
**Содержимое** - это собственно наше динамическое содержимое которое будет выводиться динамически

## Вывод городов

Для вывода созданных вами городов используется сниппет **getCities** у него есть всего лишь один параметр: **tpl** где вы можете задать ваш кастомный шаблон вывода.  
В tpl приходит две переменных **cities** - массив всех городов и **current_city** массив текущего города

## Демонстрация работы

![Демонстрация работы](https://github.com/pavel-one/multiSite/raw/master/demo.gif)